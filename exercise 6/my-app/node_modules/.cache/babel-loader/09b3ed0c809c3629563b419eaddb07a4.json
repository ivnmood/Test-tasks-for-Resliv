{"ast":null,"code":"import { employeesAPI } from \"../api/api\";\nconst SET_EMPLOYEES = 'SET_EMPLOYEES';\nconst SET_EMPLOYEES_TOTAL_COUNT = 'SET_EMPLOYEES_TOTAL_COUNT';\nconst REMOVE_ITEM = 'REMOVE_ITEM';\nconst ADD_ITEM = 'ADD_ITEM';\nconst SET_PAGE = 'SET_PAGE';\nlet initialState = {\n  employees: [{\n    id: 1,\n    email: \"george.bluth@reqres.in\",\n    first_name: \"George\",\n    last_name: \"Bluth\",\n    avatar: \"https://s3.amazonaws.com/uifaces/faces/twitter/calebogden/128.jpg\"\n  }],\n  per_page: 12,\n  total: 0,\n  page: 1\n};\n\nconst EmployeesReducers = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_PAGE:\n      {\n        return { ...state,\n          page: action.page\n        };\n      }\n\n    case SET_EMPLOYEES:\n      {\n        return { ...state,\n          employees: [...action.employees]\n        };\n      }\n\n    case SET_EMPLOYEES_TOTAL_COUNT:\n      {\n        return { ...state,\n          total: action.total\n        };\n      }\n\n    case REMOVE_ITEM:\n      {\n        return {\n          employees: [...state.employees].filter(employees => employees.id !== action.id)\n        };\n      }\n\n    case ADD_ITEM:\n      {\n        const newItem = {\n          first_name: action.first_name,\n          last_name: action.last_name,\n          email: action.email,\n          id: new Date().getTime()\n        };\n        return { ...state,\n          employees: [...state.employees, newItem]\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport const setEmployees = employees => ({\n  type: SET_EMPLOYEES,\n  employees\n});\nexport const setEmployessTotalCount = total => ({\n  type: SET_EMPLOYEES_TOTAL_COUNT,\n  total\n});\nexport const removeEmployeesItem = id => ({\n  type: REMOVE_ITEM,\n  id\n});\nexport const addEmployeesItem = (first_name, last_name, email) => ({\n  type: ADD_ITEM,\n  first_name,\n  last_name,\n  email\n});\nexport const setPage = page => ({\n  type: SET_PAGE,\n  page\n});\nexport const requestEmployees = (per_page, page) => {\n  return async dispatch => {\n    let data = await employeesAPI.getEmployees(per_page, page);\n    dispatch(setEmployees(data.data));\n    dispatch(setEmployessTotalCount(data.total));\n  };\n};\nexport const removeItem = id => dispatch => {\n  dispatch(removeEmployeesItem(id));\n};\nexport const addItem = (first_name, last_name, email) => dispatch => {\n  dispatch(addEmployeesItem(first_name, last_name, email));\n};\nexport default EmployeesReducers;","map":{"version":3,"sources":["H:/BSUIR/Web/exercise/exercise 6/my-app/src/redux/EmployeesPageReducer.js"],"names":["employeesAPI","SET_EMPLOYEES","SET_EMPLOYEES_TOTAL_COUNT","REMOVE_ITEM","ADD_ITEM","SET_PAGE","initialState","employees","id","email","first_name","last_name","avatar","per_page","total","page","EmployeesReducers","state","action","type","filter","newItem","Date","getTime","setEmployees","setEmployessTotalCount","removeEmployeesItem","addEmployeesItem","setPage","requestEmployees","dispatch","data","getEmployees","removeItem","addItem"],"mappings":"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","sourcesContent":["import {employeesAPI} from \"../api/api\";\r\n\r\n\r\nconst SET_EMPLOYEES = 'SET_EMPLOYEES';\r\nconst SET_EMPLOYEES_TOTAL_COUNT = 'SET_EMPLOYEES_TOTAL_COUNT';\r\nconst REMOVE_ITEM = 'REMOVE_ITEM';\r\nconst ADD_ITEM = 'ADD_ITEM';\r\nconst SET_PAGE = 'SET_PAGE';\r\n\r\n\r\nlet initialState = {\r\n    employees: [\r\n        {\r\n            id: 1,\r\n            email: \"george.bluth@reqres.in\",\r\n            first_name: \"George\",\r\n            last_name: \"Bluth\",\r\n            avatar: \"https://s3.amazonaws.com/uifaces/faces/twitter/calebogden/128.jpg\"\r\n        }\r\n    ],\r\n    per_page: 12,\r\n    total: 0,\r\n    page: 1\r\n};\r\n\r\nconst EmployeesReducers = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_PAGE: {\r\n            return {\r\n                ...state,\r\n                page: action.page\r\n            }\r\n        }\r\n        case SET_EMPLOYEES: {\r\n            return {\r\n                ...state,\r\n                employees: [...action.employees]\r\n            }\r\n        }\r\n        case SET_EMPLOYEES_TOTAL_COUNT: {\r\n            return {\r\n                ...state,\r\n                total: action.total\r\n            }\r\n        }\r\n        case REMOVE_ITEM: {\r\n            return {employees: [...state.employees].filter(employees => employees.id !== action.id)}\r\n        }\r\n        case ADD_ITEM: {\r\n            const newItem = {\r\n                first_name: action.first_name,\r\n                last_name: action.last_name,\r\n                email: action.email,\r\n                id: ((new Date()).getTime())\r\n            }\r\n            return {\r\n                ...state,\r\n                employees: [...state.employees, newItem],\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n};\r\n\r\n\r\nexport const setEmployees = (employees) => ({type: SET_EMPLOYEES, employees})\r\nexport const setEmployessTotalCount = (total) => ({type: SET_EMPLOYEES_TOTAL_COUNT, total})\r\nexport const removeEmployeesItem = (id) => ({type: REMOVE_ITEM, id})\r\nexport const addEmployeesItem = (first_name, last_name, email) => ({type: ADD_ITEM, first_name, last_name, email})\r\nexport const setPage = (page) => ({type: SET_PAGE, page})\r\n\r\n\r\nexport const requestEmployees = (per_page, page) => {\r\n    return async (dispatch) => {\r\n        let data = await employeesAPI.getEmployees(per_page, page)\r\n        dispatch(setEmployees(data.data))\r\n        dispatch(setEmployessTotalCount(data.total))\r\n    }\r\n}\r\n\r\nexport const removeItem = (id) => (dispatch) => {\r\n    dispatch(removeEmployeesItem(id))\r\n}\r\n\r\nexport const addItem = (first_name, last_name, email) => (dispatch) => {\r\n    dispatch(addEmployeesItem(first_name, last_name, email))\r\n}\r\n\r\nexport default EmployeesReducers;"]},"metadata":{},"sourceType":"module"}